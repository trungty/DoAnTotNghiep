String.prototype.trim=function(){var a=String.prototype.trim.arguments[0];if(a){a="^["+a+"]+|["+a+"]+$";var b=new RegExp(a,"gi");var c=this.replace(b,"")}else{var c=this.replace(/^[ ]+|[ ]+$/g,"")}c=c.replace(/^[\r\n]+|[\r\n]+$/g,"");c=c.replace(/^[ ]+|[ ]+$/g,"");return c};String.prototype.tripSpace=function(){return this.replace(/(\s\s+)/g," ")};String.prototype.repeat=function(){var c=String.prototype.repeat.arguments[0];var b="";var a;for(a=0;a<c;a++){b+=this}return b};String.prototype.filter=function(){var c=String.prototype.filter.arguments[0];var b=String.prototype.filter.arguments[1];var e;var f=this;for(var a=0;a<c.length;a++){e=new RegExp(c[a],"gi");f=f.replace(e,b.repeat(c[a].length))}return f};String.prototype.replaceString=function(){var b=String.prototype.replaceString.arguments;var c;var e=this;for(var a=0;a<b.length;a++){c=new RegExp("%s","i");e=e.replace(c,b[a])}return e};String.prototype.stripViet=function(){var replaceChr=String.prototype.stripViet.arguments[0];var stripped_str=this;var viet=[];i=0;viet[i++]=new Array("a","/á|à|ả|ã|ạ|ă|ắ|ằ|ẳ|ẵ|ặ|â|ấ|ầ|ẩ|ẫ|ậ/g");viet[i++]=new Array("o","/ó|ò|ỏ|õ|ọ|ơ|ớ|ờ|ở|ỡ|ợ|ô|ố|ồ|ổ|ỗ|ộ/g");viet[i++]=new Array("e","/é|è|ẻ|ẽ|ẹ|ê|ế|ề|ể|ễ|ệ/g");viet[i++]=new Array("u","/ú|ù|ủ|ũ|ụ|ư|ứ|ừ|ử|ữ|ự/g");viet[i++]=new Array("i","/í|ì|ỉ|ĩ|ị/g");viet[i++]=new Array("y","/ý|ỳ|ỷ|ỹ|ỵ/g");viet[i++]=new Array("d","/đ/g");for(var i=0;i<viet.length;i++){stripped_str=stripped_str.replace(eval(viet[i][1]),viet[i][0]);stripped_str=stripped_str.replace(eval(viet[i][1].toUpperCase().replace("G","g")),viet[i][0].toUpperCase())}if(replaceChr){return stripped_str.replace(/[\W]|_/g,replaceChr).replace(/\s/g,replaceChr).replace(/^\-+|\-+$/g,replaceChr)}else{return stripped_str}};zmCore.ready(function(){initEventHandler()});function initEventHandler(){if(MP3.IEVERSION>6){Common.strCut()}zm("._numSeparator").each(function(){var a=zm(this).html();if(a.length>3){zm(this).html(Common.addCommas(a))}});zm("._btnDownload").click(function(){zm(this).attr("target","_ifrTemp");_gaq.push(["mp3._trackPageview",zm(this).attr("rel")])});zm("._trackPageview").click(function(){return Common.trackPageview(zm(this),"")});zm("._trackLink").click(function(){return Common.trackPageview(zm(this),"/tracking")});if(!zmCore.cookie("__mp3")){zmCore.cookie("__mp3",Common.getUid(),{expires:0})}if(zmCore.browser.msie){if(zm(".bxh-col").length>0){zm(".bxh-col").each(function(){zm(this).children(".last-child").each(function(){zm(this).css("width","auto")})});zm(".play-all").each(function(){zm(this).css("top","auto")})}}if(zm("#_chartsCalendar").length>0){zmCore.addScript(MP3.STATIC_URL_V3+MP3.SKIN_PATH_V3+"js/calendar.js",function(){zm("#_chartsCalendar").click(function(){var a=new JSCalender.PopCalender("inputDate","_chartsCalendar");a.config.printFormat="WW&y=YYYY";a.config.callbackFn=function(b){location.href=location.pathname+"?w="+b};a.show();return false})})}if(zm("._zchartPoint").length>0){zm("._zchartPoint").mouseenter(function(){zm("._zchartPointBox").each(function(){zm(this).addClass("none")});zm("#"+zm(this).attr("zchartPointBox")).removeClass("none");return false}).mouseleave(function(){zm("#"+zm(this).attr("zchartPointBox")).addClass("none");return false})}MP3Notification.init();TopMenu.init();MP3Playlist.init();zm("._dropdownBtn").click(function(){var a;if(this.tagName.toUpperCase()=="SPAN"){a=zm(this).parent("a")}else{a=zm(this)}Common.showHide(zm(a.attr("rel")));if(MP3.BANNER_OFF!=1){Ads.changePositionBanner()}return false});zm("._viewMore").click(function(){Common.viewFull(zm(this));return false});zm("#player").resize(function(){zm("#player")[0].resize(zm("#player").width(),zm("#player").height())});Search.init("search_type","q","_menuSearch","_menuSearchItem");zm("#_btnSearch").click(function(){return Search.doSubmit(zm("#_frmSearch"),"q","search_type")});if(zm("#q").size()){if(zm("#q").attr("rel")=="on"){zmCore.addScript(MP3.STATIC_URL_V3+JS.AUTOCOMPLETE,function(){Search.suggest()})}}zm("a._addFavLite").click(function(){if(Login.show()){MP3Playlist.addFavLite(zm(this))}return false});zm("#_login").click(function(){var a=Login.show();return false});zm("#_loginCP").click(function(){var a=Login.show()});zm("#_uploadBtn").click(function(){var a=zm(this).attr("href");return Login.show(function(){location.href=a})});zm("#_uploadBtn2").click(function(){var a=Login.show();if(a==true){location.href=MP3.MP3_URL+"upload/song.html"}});MP3FeedBack.init();MP3Slider.init();if(zm("#_txtComment").size()){if(typeof(MP3Comment)!="object"){zmCore.addScript(MP3.STATIC_URL_V3+JS.INTERACTION)}}if(zm("._flashPlayer").size()){if(typeof(MP3Player)!="object"){zmCore.addScript(MP3.STATIC_URL_V3+JS.PLAYER);zmCore.addScript(MP3.STATIC_URL_V3+JS.LIKE)}}MP3SingerProfile.init();if(zm(".hotmusic").size()){zm("a._link").each(function(){if(location.pathname.search(zm(this).attr("href"))!=-1){zm(this).addClass("cate-active")}})}zm("._rtBox").each(function(){new MP3RealTime(zm(this))});MP3BlockCharts.init();if(zm("#_shareBtn").length){if(typeof MP3Sharer!="object"){zmCore.addScript(MP3.STATIC_URL_V3+MP3.SKIN_PATH_V3+"js/sharer-1.2.js",function(){MP3Sharer.init()})}}}var Login={succCallback:"",boxy:"",token:"",t:null,enterToClose:function(){zm("#_pass").keyup(function(a){if(a.keyCode===13){Login.boxy.close(true)}})},show:function(b){this.succCallback=b;if(!MP3.ACCOUNT_NAME){var a='<iframe name="_ifrLogin" id="_ifrLogin" width="0" height="0" frameborder="0"></iframe><form nane="_frmLogin" id="_frmLogin" method ="post"  action="'+MP3.URL_VNG_SSO+'?method=login" target="_ifrLogin"><div id="_errMsg" class="errlog txtErr first last txtCenter none"></div><div class="flogin rel hrw first"><span class="lAcc abs"><strong>Tài khoản:</strong></span><input name="u" id="_acc" type="text" class="ilogin2 abs" maxlength="42" /></div><div class="flogin rel hrw first"><span class="lAcc abs"><strong>Mật khẩu:</strong></span><input name="p" id="_pass" type="password" class="ilogin2 abs" maxlength="100" /></div><div id="_captchaBox" class="none"></div><div class="oplogin2"><p class="pdmem2 f12 rel"><input name="longtime" id="longtime" type="checkbox" class="checkMem2 abs" value="1" checked="checked" /> Ghi nhớ đăng nhập | <a href="https://id.zing.vn/forgotinfo/index.38.html" class="txtBlue">Quên mật khẩu?</a></p><p class="f12">Chưa có tài khoản, <a href="https://id.zing.vn/register/index.10.html" class="txtBlue">đăng ký</a></p></div><input type="hidden" name="pid" value="'+MP3.PRODUCT_ID+'" /><input type="hidden" name="u1" value="'+MP3.MP3_URL+'/login/index-v2" /><input type="hidden" name="fp" value="'+MP3.MP3_URL+'/login/index-v2" /><input type="hidden" name="debug" value="true" /></form>';if(!Login.boxy){Login.boxy=new zmCore.Boxy({title:"Đăng nhập",content:a,modal:true,okButton:"Đăng nhập",cancelButton:"Hủy bỏ",onOk:function(){var e=zm("#_acc").val();var c=zm("#_pass").val();if(e&&c){zm("#_frmLogin").submit()}else{if(!e){Common.setFocus(zm("#_acc"))}else{if(!c){Common.setFocus(zm("#_pass"))}}}return false}})}Login.boxy.show();Common.setFocus(zm("#_acc"));Login.enterToClose();return false}return true},hide:function(){this.boxy.hide();if(this.succCallback&&typeof(this.succCallback)=="function"){this.succCallback()}},captcha:function(b){if(b){Login.token=b}var a='<div class="flogin rel hrw first" style="height: 40px;padding-left: 110px !important;"><span class="lAcc abs"><strong>Mã xác nhận</strong></span><img id="_captchaImg" alt="Mã xác nhận" width="216" height="40" src="https://captcha.zing.vn/?method=getcaptcha&amp;token='+Login.token+'" style="float:left; display: block;"><a href="javascript:void(0);"><img border="0" align="absmiddle" onclick="Login.refreshImg();" alt="Đổi hình" title="Đổi hình" src="https://imgfw.zing.vn/imgppsso/images/icon_doihinh.gif" style="display: block;float: right;margin: 10px 20px 0 0;"></a></div><div class="flogin rel hrw first"><span class="lAcc abs"><strong>Nhập mã xác nhận:</strong></span><input name="imgcode" id="_imgcode" type="text" class="ilogin2 abs" maxlength="100" /></div><input type="hidden" value="'+Login.token+'" name="token" id="token"><input type="hidden" value="1" name="websso">';zm("#_captchaBox").removeClass("none").html(a);zm("#_imgcode").keyup(function(c){if(c.keyCode==13&&!c.shiftKey){zm("#_frmLogin").submit();return false}})},refreshImg:function(){if(Login.t){clearTimeout(Login.t)}Login.t=setTimeout(new Function("Login.changeImg();"),50)},changeImg:function(){var a=new Date();zm("#_captchaImg").attr("src","https://captcha.zing.vn/?method=getcaptcha&token="+Login.token+"&t="+a.getTime())}};var Search={mainId:"_menuSearch",ulId:"_menuSearchItem",typeId:"search_type",lastChar:"",newKw:false,txtSearchId:"q",txtSearchStr:"Nhập nội dung cần tìm",menuObj:null,groupItem:null,kw:"",urlSuggest:MP3.MP3_URL+"suggest/search",idForm:"_frmSearch",init:function(a,c,b,e){if(a){Search.typeId=a}if(c){Search.txtSearchId=c}if(b){Search.mainId=b}if(e){Search.ulId=e}Search.menuObj=zm("a#"+Search.mainId);Search.groupItem=zm("a."+Search.mainId);Search.initTextSearch()},menuItemSelected:function(b,a){if(a){Search.menuObj=a}Search.menuObj.text(b.text());zm("#"+Search.typeId).val(b.attr("id"));Common.showHide(zm("#"+Search.ulId));return false},initTextSearch:function(){var a=zm("#"+Search.txtSearchId);if(zmCore.isEmpty(a)==false){Search.setFocus(a);a.blur(function(){if(a.val()==""){zm("#"+Search.txtSearchId).val(Search.txtSearchStr)}});a.click(function(){if(a.val()==Search.txtSearchStr){a.val("")}})}},setFocus:function(a){if(a.val()==Search.txtSearchStr){a.val("")}Common.setFocus(a)},submitSearch:function(a){if(a){Search.txtSearchId=a}var b=zm("#"+Search.txtSearchId);if(b.val()==Search.txtSearchStr||b.val().trim()==""){b.val("");Common.setFocus(b)}else{return true}return false},doSubmit:function(a,c,b){if(Search.submitSearch(c)==true){if(location.pathname.search("tim-kiem")!=-1){a.attr("action",location.pathname)}a.submit()}else{return false}return false},suggest:function(c,b,a){if(c){Search.txtSearchId=c}if(b){Search.typeId=b}if(a){Search.idForm=a}zm("#"+Search.txtSearchId).enableAutocomplete(Search.urlSuggest,{coverClass:"search-autocomplete",maxItems:12,minChars:2,searchResponse:false,autoFill:false,hoverAutoFill:false,matchCase:false,delay:100,cacheLength:0,hasGroup:true,groupMaxItems:{artist:3,album:3,video:3,song:5},formatItem:function(f,k,g){var e="";var h="";var m="";var j=/\s*\(\(.+\)\)/;var l=k.name.indexOf("+");if(l>0){k.name=k.name.substr(0,l)}if(g=="song"){k.artist=k.artist.replace(j,"").trim();h=Search.detailLink(k,g);e+='<a href="'+h+'">'+k.name+"<span>"+k.artist+"</span></a>"}else{if(g=="artist"){k.name=k.name.replace(j,"");h=Search.detailLink(k,g);if(!k.avatar){k.avatar="avatars/noavatar.gif"}m="thumb/94_94/";e+='<a href="'+h+'"><img src="'+MP3.IMAGE_URL+m+k.avatar+'" alt="'+k.name+'" width="35" height="35" class="search-img" />'+k.name+"</a>"}else{k.artist=k.artist.replace(j,"").trim();h=Search.detailLink(k,g);if(g=="video"){if(!k.avatar){k.avatar="thumb_video/noavatar.jpg"}m="thumb/128_72/";e+='<a href="'+h+'"><img src="'+MP3.IMAGE_URL+m+k.avatar+'" alt="'+k.name+'" width="62" height="35" class="search-img" />'+k.name+"<span>"+k.artist+"</span></a>"}else{if(!k.avatar){k.avatar="covers/noavatar.jpg"}m="thumb/94_94/";e+='<a href="'+h+'"><img src="'+MP3.IMAGE_URL+m+k.avatar+'" alt="'+k.name+'" width="35" height="35" class="search-img" />'+k.name+"<span>"+k.artist+"</span></a>"}}}return e},formatInput:function(e){if(e!="footer"){return e.name}return false},scroll:false,scrollHeight:"auto",itemClass:"zme-autocomplete-item",groupClass:"search-item",getTerm:function(e){if(e.value.toLowerCase()==Search.txtSearchStr.toLowerCase()){zm("#"+Search.txtSearchId).val("");return""}return e.value},addHeader:function(e){return'<a href="/tim-kiem/bai-hat.html?q='+encodeURI(e)+'" class="search-for zme-autocomplete-activeItem">Tìm kiếm với "'+e+'"</a>'},method:"get",query:"term",onItemSelected:function(e,g,h){var f=new Date();zmCore.cookie("autcom",f.getMinutes(),{expires:0});if(h){location.href=Search.detailLink(g,h)}else{location.href="/tim-kiem/bai-hat.html?q="+encodeURI(e)}},formatCacheSearch:function(e){return e.name},parseData:function(f){var e=new Object();if(f){e.artist=f.artist?f.artist:{};e.album=f.album?f.album:{};e.video=f.video?f.video:{};e.song=f.song?f.song:{}}return e}})},detailLink:function(b,a){if(a=="artist"){return"/ca-si/"+b.name.stripViet("-")}if(a=="song"){a="bai-hat"}else{if(a=="video"){a="video-clip"}}b.artist=b.artist.trim();return"/"+a+"/"+b.name.stripViet("-")+"-"+b.artist.replace(","," ft ").stripViet("-")+"/"+b.object_id+".html"}};var Common={txtLimitStr:"Còn lại <strong>%s</strong> ký tự",cssHidden:"none",cssError:"fail",cssComp:"success",showMsg:function(b,e,c){if(zm("#_tabContent").length){zm("#_tabContent").addClass(Common.cssHidden)}var a=zm("#"+b+"Box");if(a.size()){a.removeClass(Common.cssHidden);if(e==0){a.addClass(Common.cssComp).removeClass(Common.cssError)}else{a.addClass(Common.cssError).removeClass(Common.cssComp)}zm("#"+b).html(c);zm("#"+b+"C").click(function(){a.addClass(Common.cssHidden)})}setTimeout(function(){a.addClass(Common.cssHidden)},3000)},setFocus:function(a){a.focus()},showHide:function(a){if(a.attr("class").search(Common.cssHidden)!=-1){a.removeClass(Common.cssHidden)}else{a.addClass(Common.cssHidden)}return false},doChangeHref:function(a){location.href=a},activeMenu:function(a,g,c,m,f,h){var o=document.getElementsByName(a);var b=location.pathname.split("/");switch(m){case"main":var k=0;for(var e=0;e<o.length;e++){if(o[e].href.search("/"+b[c])!=-1){o[e].className=o[e].className+" "+g;zm("#"+o[e].id+"li").addClass(f);k++;break}}if(k==0){o[0].className=o[0].className+" "+g}break;case"sub":n=b[c].split(".");if(n.length>2){hrefString=n[0]}else{hrefString=b[c]}for(var e=0;e<o.length;e++){if(o[e].href.search("/"+hrefString)!=-1&&o[e].href.search("/"+b[c-1])!=-1){o[e].className=g;break}}break;case"bonus":var n=location.search;var k=0;for(var e=0;e<o.length;e++){if(o[e].rel!=""&&n.search(o[e].rel)!=-1){o[e].className=g;k++;break}}if(k==0&&h==1){o[0].className=g}break;case"general":var k=0;var j=c.split("-");var l=b[j[0]]+"/"+b[j[1]];for(var e=0;e<o.length;e++){if(o[e].href.search("/"+l)!=-1){o[e].className=o[e].className+" "+g;zm("#"+o[e].id+"li").addClass(f);k++;break}}break;case"allink":var k=0;var l=b[c]+"-"+location.search.substr(1,location.search.length);var p;for(var e=0;e<o.length;e++){p=o[e].href.split("?");n=p[0]+"-"+p[1];if(n.search(l)!=-1){o[e].className=o[e].className+" "+g;zm("#"+o[e].id+"li").addClass(f);k++;break}}break}},mbxLoading:function(){var a=new zmCore.Boxy({title:"Thông báo",content:'<div class="wkichhoat"><div class="f12 txtBlack"><p class="txtCenter pdbottom10 pdtop5"><img width="220" height="19" src="'+MP3.STATIC_PATH+'images/loading2.gif"></p><strong>Hệ thống đang tiến hành xử lý. Vui lòng chờ trong giây lát...</strong></div></div>',modal:true});a.show();return a},msgBox:function(b){var a=new zmCore.Boxy({title:"Thông báo",content:'<div class="wkichhoat"><div class="f12 txtBlack">'+b+"</div></div>",modal:true,okButton:"Đóng",onOk:function(){this.hide()}});a.show();return a},viewFull:function(c){var b=zm(c.attr("rel"));var a=b.attr("expand")||"rows3";if(b.hasClass(a)){b.removeClass(a);c.addClass("hide");c.html("Rút gọn");if(c.attr("id")=="_viewMoreInfo"){c.parent("p").addClass("hide")}}else{b.addClass(a);c.removeClass("hide");c.html("Xem toàn bộ");if(c.attr("id")=="_viewMoreInfo"){c.parent("p").removeClass("hide")}}},detectBannerAds:function(){if(MP3.BANNER_OFF){zm("._bannerAdsTop").addClass("none");zm("._bannerAds").remove()}},getBoxLoading:function(a){return'<div id="'+a+'Loading"><p class="box pdtop20 pdbottom10 txtCenter" style="height:50px;"><img width="16" height="16" src="'+MP3.STATIC_URL+'skins/mp3_main/images/loading.gif"> Đang tải....</p></div>'},getBoxMsg:function(b,a){return'<p class="notification success">'+b+"<a id="+a+' title="Đóng" class="close"></a></p>'},getBoxErr:function(b,a){return'<p class="notification fail">'+b+"<a id="+a+' title="Đóng" class="close"></a></p>'},alert:function(a){if(location.href.indexOf("debug")>-1){alert(a)}},getUid:function(){return"xxxxxxxxxxxx".replace(/[x]/g,function(e){var b=Math.random()*16|0,a=e=="x"?b:(b&3|8);return a.toString(16)}).toUpperCase()},trackPageview:function(a,e){if(!e){e=""}if(a.attr("tagName")!="A"){a=a.parent("a")}var c=a.attr("suglog");var b=a.attr("href");var f=a.attr("tracking");if(b.search(MP3.MP3_URL)!=-1){b="/"+b.replace(MP3.MP3_URL,"")}if(f){b+="?"+f}_gaq.push(["mp3._trackPageview",e+b]);if(c){zmCore.get(MP3.LOG_URL+c);setTimeout(function(){location.href=a.attr("href")},500);return false}return true},addCommas:function(b){b+="";x=b.split(".");x1=x[0];x2=x.length>1?"."+x[1]:"";var a=/(\d+)(\d{3})/;while(a.test(x1)){x1=x1.replace(a,"$1,$2")}return x1+x2},loadImg:function(){if(zm("._loadImg").length>0){var a=zmCore.getViewport();var b=a.offsetY+a.height;zm("._loadImg").each(function(){if(b-zm(this).top()>100){var c=zm(this).attr("loadImg");zm("."+c).each(function(){zm(this).removeClass(c).attr("src",zm(this).attr("_src"))});zm(this).removeClass("_loadImg")}})}},strCut:function(){zm("._strCut").each(function(){var b=parseInt(zm(this).attr("strlength"));var e=zm(this).html();var a=e.lastIndexOf("/");if(a<b){b=b-a}if(e.length>b){var c=e.substring(0,b);if(c.lastIndexOf(" ")!=-1){c=c.substring(0,c.lastIndexOf(" "))}else{c=e.substring(0,a>(b+a)/2?Math.floor((b+a)/2):a)}zm(this).html(c+"...")}})}};var Validate={checkNumber:function(b){var a=/^-{0,1}\d*\.{0,1}\d+$/;return a.test(b)},checkUrl:function(b){var a=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return a.test(b)},checkRequired:function(a){if(!a){return false}else{return true}},isUrl:function(a,b){if(b&&!Validate.checkRequired(a.val())&&!Validate.checkUrl(a.val())){Validate.showAlert(a)}else{if(a.val()&&!Validate.checkUrl(a.val())){Validate.showAlert(a);return false}else{Validate.hideAlert(a)}}},isNumber:function(a,b){if(b&&!Validate.checkRequired(a.val())&&!Validate.checkNumber(a.val())){Validate.showAlert(a)}else{if(a.val()&&!Validate.checkNumber(a.val())){Validate.showAlert(a);return false}else{Validate.hideAlert(a)}}},isText:function(a){if(!Validate.checkRequired(a.val())){Validate.showAlert(a);return false}else{Validate.hideAlert(a)}}};var TopMenu={urlRequest:MP3.MP3_URL+"ajax/menu/list-v3",loading:false,liCssActive:"nav-li-hover",aCssActive:"nav-hover",init:function(){for(var a=0;a<MP3.MAINMENU.length;a++){zm("#"+MP3.MAINMENU[a]).hover(function(){TopMenu.hoverMenu(this)});zm("#"+MP3.MAINMENU[a]).mouseleave(function(){TopMenu.outMenu(this)});var e=zm("#"+MP3.MAINMENU[a]).attr("match");if(e){var c=new RegExp(e,"i");var b=location.pathname.split("/");if(b[1]&&c.test(b[1])){zm("#"+MP3.MAINMENU[a]).addClass(TopMenu.liCssActive)}}}},hoverMenu:function(b){if(MP3.IEVERSION<7){zm(b).addClass(TopMenu.liCssActive)}var a=zm(b).attr("rel");zm("#"+a).removeClass("none");TopMenu.showMenu(a)},outMenu:function(b){var a=zm(b).attr("rel");zm("#"+a).addClass("none");if(zm("#"+a).size()){zm("#"+a).removeClass(TopMenu.aCssActive)}if(MP3.IEVERSION<7){zm(b).removeClass(TopMenu.liCssActive);TopMenu.hideMenu(a)}},hideMenu:function(a){zm("#"+a+"Items").addClass(Common.cssHidden)},showMenu:function(a){if(((MP3.ACCOUNT_NAME&&zm("#_subMusic").html().trim().length<20))||zm("#_subMusic").html().trim().length<20){TopMenu.renderMenu(true)}else{TopMenu.renderMenu(false)}},renderMenu:function(reload){if(reload&&!TopMenu.loading){TopMenu.loading=true;zmCore.get(TopMenu.urlRequest,{dataType:"json"},function(data){var htmlObj,html,id;for(var i=0;i<MP3.MAINMENU.length;i++){id=zm("#"+MP3.MAINMENU[i]).attr("rel");if(zm("#"+id).size()){htmlObj="data."+zm("#"+id).attr("rel");eval("html	= "+htmlObj);zm("#"+id).html(html)}}TopMenu.renderMenu(false);TopMenu.loading=false})}}};var MP3MessageBox={show:function(b,a){a="#"+a;zm(a+"Div").removeClass(Common.cssHidden);zm(a+"Msg").html(b);zm(a+"BtnC").click(function(){zm(a+"Div").addClass(Common.cssHidden)})},hideMsg:function(a){if(!a){var a="_msg"}zm("#"+a+"Div").addClass(Common.cssHidden)},hideError:function(a){if(!a){var a="_err"}zm("#"+a+"Div").addClass(Common.cssHidden)},showMsg:function(b,a){if(!a){var a="_msg"}MP3MessageBox.show(b,a)},showError:function(b,a){if(!a){var a="_err"}MP3MessageBox.show(b,a)}};var MP3FeedBack={url:MP3.MP3_URL+"ajax/feed-back",flVer:"",frm:"",init:function(){zm("._feedBackBtn").click(function(a){MP3FeedBack.displayForm();return false})},displayForm:function(){if(Login.show(MP3FeedBack.displayForm)){var a='<iframe name="_ifrFeedBack" id="_ifrFeedBack" width="0" height="0" frameborder="0"></iframe><form nane="_frmFeedBack" id="_frmFeedBack" method ="post"  action="'+MP3FeedBack.url+'" target="_ifrFeedBack"><div id="_errFeedBackMsg" class="errlog txtErr first last txtCenter none"></div><div class="feedback"><div class="Frow"><span class="tit">Chủ đề: <span class="abbr">*</span></span><span class="boxin"><select name="subject" id="_fbSubject"><option value="">Vui lòng chọn loại phản hồi</option><option value="1">Báo lỗi</option><option value="2">Góp ý nội dung</option><option value="3">Yêu cầu chức năng</option><option value="4">Khác</option></select></span><div class="clr"></div></div><div class="Frow"><span class="tit">Link:</span><span class="boxin"><input type="text" name="link" id="_fbLink" value="'+location.href+'" /></span><div class="clr"></div></div><div class="Frow"><span class="tit">Mô tả: <span class="abbr">*</span></span><span class="boxin"><textarea name="content" id="_fbContent" rows="10"></textarea></span><div class="clr"></div></div></div></form>';if(!MP3FeedBack.frm){MP3FeedBack.frm=new zmCore.Boxy({title:"Góp ý / Báo lỗi",content:a,modal:true,okButton:"Đồng ý",onOk:function(){var c=zm("#_fbSubject").val();var e=zm("#_fbContent").val();var b=zm("#_fbLink").val();if(!c){zm("#_errFeedBackMsg").removeClass(Common.cssHidden).html("Vui lòng chọn chủ đề");Common.setFocus(zm("#_fbSubject"))}else{if(!e){zm("#_errFeedBackMsg").removeClass(Common.cssHidden).html("Vui lòng nhập nội dung");Common.setFocus(zm("#_fbContent"))}else{MP3FeedBack.post(c,e,b,MP3FeedBack.hOk)}}return false}})}MP3FeedBack.frm.show();Common.setFocus(zm("#_fbContent"))}},hOk:function(a){if(!a.is_error){MP3FeedBack.frm.hide(true);Common.msgBox(a.note)}else{zm("#_errFeedBackMsg").removeClass(Common.cssHidden).html(a.note)}},post:function(c,e,b,a){if(MP3FeedBack.flVer.length<1){zmCore.addScript(MP3.STATIC_URL_V3+MP3.SKIN_PATH_V3+"js/swfobject.js",function(){var f=swfobject.getFlashPlayerVersion();MP3FeedBack.flVer=f.major+"."+f.minor+"."+f.release;MP3FeedBack.post(c,e,b,a)})}else{zmCore.post(MP3FeedBack.url,{subject:c,content:e,link:b,flVer:MP3FeedBack.flVer,browser:navigator.userAgent},{dataType:"json"},function(f){return a(f)})}}};var MP3Notification={htmlId:"_notiBox",timer:null,idx:0,msg:[],init:function(){if(zm("#"+MP3Notification.htmlId).size()){zmCore.get(MP3.MP3_URL+"ajax/notification/v2",{dataType:"json"},function(a){if(a.msg&&a.msg.length>0){zm("#"+MP3Notification.htmlId).removeClass(Common.cssHidden);MP3Notification.msg=a.msg;MP3Notification.change(true)}else{zm("#"+MP3Notification.htmlId).addClass(Common.cssHidden)}if(MP3.BANNER_OFF!=1){Ads.changePositionBanner()}})}},change:function(a){if(a){var b=Math.floor(Math.random()*MP3Notification.msg.length);MP3Notification.idx=b}if(MP3Notification.idx<MP3Notification.msg.length){zm("#"+MP3Notification.htmlId).html(MP3Notification.msg[MP3Notification.idx]);MP3Notification.idx++}else{MP3Notification.idx=0}setTimeout("MP3Notification.change();",5000)}};var MP3BadWord={filter:function(str){if(MP3.BAD_WORDS&&MP3.BAD_WORDS.length){str=str.replace(eval("/"+MP3.BAD_WORDS+"/gi"),"***")}return str}};var MP3Slider={slideshow:null,init:function(){if(zm("#slider").size()){zmCore.addScript(MP3.STATIC_URL_V3+MP3.SKIN_PATH_V3+"js/tinyslider.js",function(){MP3Slider.slide()})}},slide:function(){MP3Slider.slideshow=new TINY.slider.slide("MP3Slider.slideshow",{id:"slider",auto:5,resume:true,vertical:false,navid:"slider_pagination",activeclass:"song-slider-selected",position:0,rewind:false,elastic:false});zm(".song-slider-nav li").click(function(){var a=zm(this).attr("rel");if(!a){a=zm(this).parent().attr("rel")}MP3Slider.slideshow.pos(a);return false})}};var MP3Playlist={urlApi:MP3.MP3_URL+"ajax/",overDivPls:0,flagPlsID:"",flagCreate:"",playlistTitle:"",playlistID:"",songID:"",plHtml:"",plData:false,plDefaultTitle:"Thêm playlist mới",plLoaded:false,loading:false,isLite:false,errDiv:"_addMsg",init:function(){zm("a._addPlsLite").click(function(){MP3Playlist.isLite=true;if(Login.show()){var a="_divPlsLite"+zm(this).attr("id");MP3Playlist.showDivPls(a);MP3Playlist.renderDivPls(zm(this),a);if(zmCore.browser.msie){zm("#"+a).parent("div").addClass("ie-fix")}}return false}).blur(function(){var a="_divPlsLite"+zm(this).attr("id");if(MP3Playlist.overDivPls==0){zm("#"+a).addClass(Common.cssHidden);if(zmCore.browser.msie){zm("#"+a).parent("div").removeClass("ie-fix")}}return false}).attr("tabIndex",0)},initTab:function(){if(zm("#_lstPls").length){if(MP3.ACCOUNT_NAME){MP3Playlist.renderSelectPls("_lstPls");MP3Playlist.plLoaded=false}else{MP3Playlist.plLoaded=false;zm("#_lstPls").click(function(){MP3Playlist.renderSelectPls("_lstPls");MP3Playlist.plLoaded=false;return false})}}zm("._addFav").click(function(){MP3Playlist.playlistTitle=zm(this).html();MP3Playlist.playlistID=0;MP3Playlist.insertSongToPls("_addMsg");return false});zm("._btnCreatePls").click(function(){MP3Playlist.createPlaylist(zm(this),"_addMsg");return false});zm("#_addPls").click(function(){var b=document.getElementById("_lstPls");if(Login.show()){if(b.options.length<1){MP3Playlist.renderSelectPls("_lstPls")}else{var a=b.options[b.selectedIndex];MP3Playlist.playlistTitle=a.text;MP3Playlist.playlistID=a.value;MP3Playlist.insertSongToPls("_addMsg")}}return false});MP3Playlist.addPlHnd(MP3Playlist.songID)},initTabLike:function(){if(zm("#_lstPlsLike").length){if(MP3.ACCOUNT_NAME){MP3Playlist.renderSelectPls("_lstPlsLike");MP3Playlist.plLoaded=false}else{MP3Playlist.plLoaded=false;zm("#_lstPlsLike").click(function(){MP3Playlist.renderSelectPls("_lstPlsLike");MP3Playlist.plLoaded=false;return false})}}zm("._addFavLike").click(function(){if(zm(this).attr("rel")=="song"){MP3Playlist.playlistTitle=zm(this).html();MP3Playlist.playlistID=0;MP3Playlist.insertSongToPls("_addLikeMsg")}else{MP3Playlist.isLite=false;MP3Playlist.addFav("_addLikeMsg",zm(this))}return false});zm("._btnCreatePlsLike").click(function(){MP3Playlist.createPlaylist(zm(this),"_addLikeMsg");return false});zm("#_addPlsLike").click(function(){var b=document.getElementById("_lstPlsLike");if(Login.show()){if(b.options.length<1){MP3Playlist.renderSelectPls("_lstPlsLike")}else{var a=b.options[b.selectedIndex];MP3Playlist.playlistTitle=a.text;MP3Playlist.playlistID=a.value;MP3Playlist.insertSongToPls("_addLikeMsg")}}return false})},addFav:function(c,e){if(Login.show()){var f="";var b=e.attr("pid");var a=e.attr("rel");switch(a){case"video":f=MP3Playlist.urlApi+"video/addfav";break;case"playlist":f=MP3Playlist.urlApi+"playlist/addfav";break}if(f&&b){_gaq.push(["mp3._trackPageview","/tracking/"+a+"/"+b+"/add_favourite"]);zmCore.post(f,{id:b,title:"Yêu thích"},{dataType:"json"},function(g){if(!g.is_error){MP3Playlist.flagFavID+=","+b;if(MP3Playlist.isLite){e.addClass("checked")}}else{if(MP3Playlist.isLite){Common.msgBox(g.note)}}if(!MP3Playlist.isLite){Common.showMsg(c,g.is_error,g.note)}})}}},addFavLite:function(a){MP3Playlist.isLite=true;MP3Playlist.addFav("",a)},setAttrDiv:function(a){MP3Playlist.overDivPls=a},showDivPls:function(a){zm("._divPlsLite").addClass(Common.cssHidden);zm("#"+a).removeClass(Common.cssHidden)},renderSelectPls:function(a){if(!MP3Playlist.plLoaded){zmCore.post(MP3Playlist.urlApi+"playlist/list-v2","",{dataType:"json"},function(c){MP3Playlist.plLoaded=true;var f=c.length;var e=document.getElementById(a);e.options[0]=null;for(i=0;i<f;i++){var b=c[i];e.options[i]=new Option(b.playlist_title,b.playlist_id)}zm("#"+a).change(function(){var g=e.options[e.selectedIndex];MP3Playlist.playlistTitle=g.text;MP3Playlist.playlistID=g.value})})}},renderDivPls:function(b,a){var c=MP3Playlist.songID=b.attr("id");if(!MP3Playlist.plData||!MP3Playlist.plLoaded){zmCore.get(MP3Playlist.urlApi+"playlist/list-v2",{dataType:"json"},function(e){MP3Playlist.plLoaded=true;MP3Playlist.plData=e;zm("#"+a).html(MP3Playlist.buildPl(e)).removeClass("none");MP3Playlist.plEventHnd(b,a,c);MP3Playlist.plLoaded=true;return true})}else{if(!zm("#"+a).html()){zm("#"+a).html(MP3Playlist.buildPl(MP3Playlist.plData));MP3Playlist.plEventHnd(b,a,c)}else{MP3Playlist.calDir(b,a,c)}}return true},calDir:function(g,b,h){b=zm("#"+b);var a=zmCore.getViewport();var f=document.body.offsetHeight;var e=f-g.top();var j=zm("#_specItem"+h).height();var c=zmCore.browser.msie?6:7;if(e<((a.height/2)+j)||g.top()>(f-200-j*c)){b.addClass("bottom40");zm("#_plList"+h).addClass("bottom30")}else{b.removeClass("bottom40");zm("#_plList"+h).removeClass("bottom30")}},plEventHnd:function(e,b,g){MP3Playlist.calDir(e,b,g);if(zm(".detail-content").size()){var c=zm("#"+b);var f=e.top()+e.height()-c.parent("div").top();var a=e.left()+e.width()-c.width()-c.parent("div").left();c.css({left:a+"px",top:f+"px",right:"auto"})}zm("#_plTable"+g).mousedown(function(){MP3Playlist.setAttrDiv(1)});zm("#_newPL"+g).mousedown(function(){MP3Playlist.setAttrDiv(1)}).mouseleave(function(){MP3Playlist.setAttrDiv(0)});zm("a._isrtSTPLite").click(function(){MP3Playlist.playlistID=zm(this).attr("id");MP3Playlist.playlistTitle=zm(this).html();MP3Playlist.addPlaylist("","",1);zm("#"+b).addClass("none");return false});zm("#_btnPlList"+g).mouseenter(function(h){zm(this).addClass("active")}).mouseleave(function(h){zm(this).removeClass("active");MP3Playlist.setAttrDiv(0)});MP3Playlist.addPlHnd(g);zm("#txtTitlePls"+g).focus(function(){MP3Playlist.setAttrDiv(1);if(zm(this).val()==MP3Playlist.plDefaultTitle){zm(this).val("")}})},addPlHnd:function(a){zm("#_createPlsLite"+a).click(function(){if(Login.show()){MP3Playlist.createPlaylist(zm(this))}return false})},buildPl:function(c){var b='<ul class="list-playlist" id="_plList'+MP3Playlist.songID+'">';var a='<form method="post"><p id="_newPL'+MP3Playlist.songID+'"><input type="text" id="txtTitlePls'+MP3Playlist.songID+'" name="txtTitlePls" class="text-box" value="Thêm playlist mới"><a id="_createPlsLite'+MP3Playlist.songID+'" class="button _btnCreatePls" href="" rel="txtTitlePls'+MP3Playlist.songID+'">Thêm</a></p></form>';for(i=0;i<c.length;i++){if(c[i].playlist_title.length>22){c[i].playlist_title=c[i].playlist_title.substr(0,20)+"..."}b+='<li><a class="_isrtSTPLite" id="'+c[i].playlist_id+'" href="">'+c[i].playlist_title+"</a></li>"}b+="</ul>";b='<ul id="_plTable'+MP3Playlist.songID+'"><li class="add-favorite"><a class="_isrtSTPLite" id="0" href="#">Yêu thích</a></li><li class="add-playlist" id="_btnPlList'+MP3Playlist.songID+'"><a href="">Thêm vào playlist</a>'+b+"</li></ul>";b+=a;return b},addPlaylist:function(c,b,a){if(Login.show()){if(c){MP3Playlist.songID=c}if(b){MP3Playlist.playlistID=b}if(a==1){MP3Playlist.insertSongToPls()}}},insertSongToPls:function(b){if(Login.show()){if(b){MP3Playlist.errDiv=b}var a=MP3Playlist.songID+"_"+MP3Playlist.playlistID;if(!MP3Playlist.loading){MP3Playlist.loading=true;if(MP3Playlist.playlistID>0){_gaq.push(["mp3._trackPageview","/tracking/playlist/"+MP3Playlist.playlistID+"/add_playlist"])}else{_gaq.push(["mp3._trackPageview","/tracking/song/"+MP3Playlist.songID+"/add_favourite"])}zmCore.post(MP3Playlist.urlApi+"playlist/add",{song_id:MP3Playlist.songID,playlist_id:MP3Playlist.playlistID,playlist_title:MP3Playlist.playlistTitle},{dataType:"json"},function(c){MP3Playlist.loading=false;if(!c.is_error){if(MP3Playlist.isLite){zm("#"+MP3Playlist.songID).addClass("checked");zm("#_divPlsLite"+MP3Playlist.songID).addClass(Common.cssHidden)}else{Common.showMsg(MP3Playlist.errDiv,c.is_error,c.note)}MP3Playlist.flagPlsID+=","+a}else{MP3Playlist.flagPlsID+=","+a;if(MP3Playlist.isLite){Common.msgBox(c.note)}else{Common.showMsg(MP3Playlist.errDiv,c.is_error,c.note)}}})}}},createPlaylist:function(b,c){if(c){MP3Playlist.errDiv=c}var e=zm("#"+b.attr("rel")).val();var a=MP3Playlist.songID+"_"+e;if(!e||e==MP3Playlist.plDefaultTitle){zm("#"+b.attr("rel")).focus()}else{if(e&&MP3Playlist.songID&&MP3Playlist.flagCreate.search(a)==-1){_gaq.push(["mp3._trackPageview","/tracking/playlist/create_playlist"]);zmCore.post(MP3Playlist.urlApi+"playlist/create",{song_id:MP3Playlist.songID,playlist_title:e},{dataType:"json"},function(f){if(f.is_error==0){MP3Playlist.plLoaded=false;if(MP3Playlist.isLite){zm("#_divPlsLite"+MP3Playlist.songID).addClass(Common.cssHidden);zm("#"+MP3Playlist.songID).addClass("checked")}}if(!MP3Playlist.isLite){Common.showMsg(MP3Playlist.errDiv,f.is_error,f.note)}});MP3Playlist.flagCreate+=","+a}}}};var MP3SingerProfile={url:MP3.MP3_URL+"ajax/singer-profile/",loading:"",form:null,dformat:"dd/mm/yyyy",init:function(){zm("#_btnProfileChg").click(function(){if(Login.show()){MP3SingerProfile.loadForm(zm(this).attr("rel"))}return false})},loadForm:function(a){if(!MP3SingerProfile.form){zmCore.get(MP3SingerProfile.url+"get-form?aid="+a,{dataType:"json"},function(b){MP3SingerProfile.loading="";if(b.is_error){Common.msgBox(b.note)}else{MP3SingerProfile.form=new zmCore.Boxy({title:"Thông tin ca sĩ",content:b.result,modal:true,okButton:"Đồng ý",cancelButton:"Hủy bỏ",onOk:function(){var h=zm("#_sname").val();var f=zm("#_sweb").val();var j=zm("#_salias").val();var e=zm("#_szone").val();var c=zm("#_sgenre").val();var l=zm("#_sdob").val();var g=zm("#_ssummary").val();var k=/^\d{1,2}[\/\-]\d{1,2}([\/\-]\d{4})?$/;if(l==MP3SingerProfile.dformat){l=""}if(h.length<1){MP3SingerProfile.showError("_errProfileMsg","Vui lòng nhập tên ca sĩ.");zm("#_sname").focus();return false}else{if(g.length>4000){MP3SingerProfile.showError("_errProfileMsg","Thông tin lý lịch chỉ cho phép nhập tối đa 4000 ký tự.");zm("#_ssummary").focus();return false}else{if(l&&!k.test(l)){MP3SingerProfile.showError("_errProfileMsg","Ngày sinh không hợp lệ.");zm("#_sdob").focus();return false}}}if(MP3SingerProfile.loading.length<2){MP3SingerProfile.loading=a;zmCore.post(MP3SingerProfile.url+"change",{id:a,name:h,web:f,alias:j,zone:e,genre:c,dob:l,summary:g},{dataType:"json"},function(m){MP3SingerProfile.loading="";if(m.is_error){MP3SingerProfile.showError("_errProfileMsg",m.note)}else{MP3SingerProfile.form.hide();if(m.note){Common.msgBox(m.note)}}})}return false}});MP3SingerProfile.form.show();if(zmCore.browser.msie&&zmCore.browser.version=="6.0"){zm(".zme-boxy").css("width",500)}else{zm(".zme-boxy").css("width","auto")}MP3SingerProfile.loadGenre(zm("#_szone").val());zm("#_sdob").val(MP3SingerProfile.dformat);zm("#_szone").change(function(){MP3SingerProfile.loadGenre(zm(this).val());return false});zm("#_sdob").focus(function(){if(zm(this).val()==MP3SingerProfile.dformat){zm("#_sdob").val("")}return false}).blur(function(){if(zm(this).val()==""){zm("#_sdob").val(MP3SingerProfile.dformat)}return false})}})}else{MP3SingerProfile.form.show()}MP3SingerProfile.showError("_errProfileMsg","")},loadGenre:function(a){zmCore.get(MP3SingerProfile.url+"get-genre?id="+a,{dataType:"json"},function(e){MP3SingerProfile.loading="";if(e.is_error){Common.msgBox(e.note)}else{var f=e.result.length;var b=document.getElementById("_sgenre");while(b.length>0){b.remove(b.length-1)}if(f>0){b.disabled=false;for(i=0;i<f;i++){var c=e.result[i];b.options[i]=new Option(c.title,c.id)}}else{b.disabled=true}}})},showError:function(b,a){zm("#"+b).removeClass(Common.cssHidden).html(a)}};var MP3BlockCharts={init:function(){zm("._btnBlockCharts").click(function(){MP3BlockCharts.loadCharts(zm(this));return false})},loadCharts:function(e){var f=e.attr("charts_id");var c=e.attr("charts_pref");var b=zm("#_lst"+c+f);var a=b.children();if(a.length<4){if(!e.attr("loading")){e.attr("loading",1);b.html(Common.getBoxLoading("_lst"+c+f));zmCore.get(e.attr("rel"),{dataType:"json"},function(g){e.attr("loading",0);if(!g.is_error){b.html(g.result)}})}}zm("._tab"+c).removeClass("tab-selected");zm("#_tab"+c+f).addClass("tab-selected");zm("._lst"+c).addClass("none");b.removeClass("none");setTimeout(function(){MP3BlockCharts.linkMore(f,c)},200)},linkMore:function(b,a){zm("._lnkMore"+a).addClass(Common.cssHidden);zm("#_lnkMore"+a+b).removeClass(Common.cssHidden)}};function MP3RealTime(a){this.init(a)}MP3RealTime.prototype={data:[],timePrev:0,time:0,timer:null,init:function(a){var b=this;b.reload(a);this.timer=setInterval(function(){b.reload(a)},10000)},reload:function(c){var a=c.attr("rt_src");var b=c.attr("rt_type");var e=this;this.timePrev=this.time;this.time=new Date().getTime();if(a){zmCore.getJSON(a,{dataType:"json"},function(k){if(k.listMedia){var j=k.listMedia.length;if(e.data.length){var m=c.children();m.removeClass("_changeUp"+e.timePrev).removeClass("_changeDown"+e.timePrev);for(var l=0;l<j;l++){var r=k.listMedia[l];if(e.data[l]!=r.sId){var q=zm(m[l]);var f="_rt"+b+"_"+r.sId;q.attr("id",f);var h=true;for(var g=0;g<e.data.length;g++){if(e.data[g]==r.sId){r.name+="="+(g+1);h=g>l;break}}var s=e.buildItem(r,l);q.empty().append(s);if(h){q.addClass("_changeUp"+e.time)}else{q.addClass("_changeDown"+e.time)}}e.data[l]=r.sId}e.fade(zm("._changeUp"+e.time),3000,{r:218,g:242,b:218},{r:255,g:255,b:255},function(n){n.css("background-color","rgb(255,255,255)")});e.fade(zm("._changeDown"+e.time),3000,{r:242,g:218,b:218},{r:255,g:255,b:255},function(n){n.css("background-color","rgb(255,255,255)")})}else{for(var l=0;l<j;l++){var o="";var r=k.listMedia[l];var f="_rt"+b+"_"+r.sId;if(l==j-1){o=" last-child"}var s='<div id="'+f+'" class="zing-top-song-item'+o+'"><div class="meta">'+e.buildItem(r,l)+"</div>";c.append(s);e.data.push(r.sId)}}}})}},buildItem:function(e,b){var c="";var a=this.renderArtist(e.listArtist);c='<div class="meta">';if(b<3){c+='<span class="top-rank tr3">'+(b+1)+"</span>"}else{c+='<span class="top-rank">'+(b+1)+"</span>"}c+='<h3><a title="'+e.name+" - "+a+'" href="/bai-hat/'+e.name.stripViet("-")+"-"+a.replace(".","").stripViet("-")+"/"+e.sId+'.html">'+e.name+"</a></h3>";c+='<span><a title="Tìm bài hát của '+a+'" href="/tim-kiem/bai-hat.html?q='+a+'">'+a+"</a></span></div>";return c},renderArtist:function(e){var a=[];for(var b=0;b<e.length;b++){var c=e[b];a.push(c.name)}return a.join(" ft. ")},fade:function(c,h,k,j,g){var o=40,f=222,b=222,m=222,e=255,n=255,l=255;d=200;if(typeof k=="object"&&typeof j=="object"){f=k.r;b=k.g;m=k.b;e=j.r;n=j.g;l=j.b}if(zmCore.isNumber(h)){d=h}c.data("zmCore.fade",1).css("background-color","rgb("+f+","+b+","+m+")");var a=setInterval(function(){if(c.data("zmCore.fade")==2){c.removeData("zmCore.fade");clearInterval(a)}else{f<e&&f++;b<n&&b++;m<l&&m++;c.css("background-color","rgb("+f+","+b+","+m+")");if(f>=e&&b>=n&&m>=n){clearInterval(a);zmCore.isFunction(g)&&g(c)}}},o);return c}};